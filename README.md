# Шаблон для быстрого начала проекта

## Поднятие проекта локально:

```shell
make run_local
```

## Использование Bash скрипта для создания дампов базы данных PostgreSQL

1. Ваш файл .env должен содержать следующие переменные окружения: POSTGRES_USER и POSTGRES_DB. Эти переменные
   используются скриптом для подключения к базе данных.

2. По умолчанию, скрипт создает дампы в поддиректории pg_dumps вашей текущей рабочей директории. Если вы хотите изменить
   место хранения дампов, измените значение переменной DUMP_PATH в скрипте.

### Запуск скрипта

Вы можете запустить скрипт вручную с помощью следующей команды:

```bash
./script.sh 
```

### Автоматический запуск скрипта каждый день

Для автоматического запуска скрипта каждый день в полночь, вы можете добавить его в cron с помощью следующих шагов:

1. Откройте редактор cron с помощью команды:
   ```bash
   crontab -e
   ```

2. Добавьте следующую строку в редактор, указав полный путь к скрипту вместо /path/to/your/script.sh:
   
   ```corn
   0 0 * * * /path/to/your/script.sh
   ```

3. Сохраните и закройте редактор cron.
   Теперь скрипт будет автоматически запускаться каждый день в полночь и создавать дампы вашей базы данных. Если
   количество дампов превышает 10, самый старый дамп будет удален.

## Деплой NGINX и Certbot с помощью Docker Compose

Это руководство поможет вам выполнить первоначальный деплой NGINX и Certbot с использованием Docker Compose и Makefile
для автоматизации процесса.

## Предварительные требования

Убедитесь, что у вас установлены следующие инструменты:

1. Docker Compose
2. Make

## Использование

1. Склонируйте репозиторий или создайте проект со структурой, указанной выше.

2. Откройте файл `nginx/default.conf` и проверьте, что конфигурация соответствует вашим требованиям.

3. Откройте файл `Makefile` и убедитесь, что переменные `DOMAIN`, `FRONT_IP_HOST` и `BACK_IP_HOST` заданы правильно или
   переопределены при вызове `make`.

4. В командной строке, перейдите в корневую директорию проекта и выполните следующую команду для первоначального деплоя:

```shell
make first_deploy DOMAIN=your-domain.com FRONT_IP_HOST=http://11.111.11.111:3000 BACK_IP_HOST=http://11.111.11.111:8000
```